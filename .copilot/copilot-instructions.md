# Copilot 기본 지침 (python_ePub 프로젝트)

## 0. Copilot 언어 지침
- Copilot Chat과 코드 설명, 주석은 항상 **한국어로 작성**한다.
- 코드 작성 시 **영어로 된 함수명, 클래스명, 변수명**을 사용한다.
  - 예: `def convert_text_to_epub(text_file: str) -> None`
- 가능하다면 기술 용어(함수명, 클래스명, 변수명)는 영어로 유지하고, 설명은 한국어로 한다.
- main.py 파일 상단에 **프로젝트 개요**를 작성한다.
  - 프로젝트의 목적, 주요 기능, 사용 기술 등을 간략히 설명한다.
  - 적용된 python 버전과 주요 라이브러리(예: PyQt6, ebooklib 등)를 명시한다.

## 1. 프로젝트 개요
- 이 프로젝트는 **텍스트 파일을 ePub 파일로 변환하는 Python 기반 프로그램**이다.
- PyQt6 기반 GUI를 사용하며, ePub 메타데이터, 목차, 스타일시트 등을 포함한 완전한 ePub 파일을 생성한다.

## 2. 코드 스타일 및 규칙
- **모든 함수와 클래스에는 명확하고 상세한 주석을 작성**한다.
  - 함수의 목적, 파라미터 설명, 반환값, 예외 상황을 모두 기술한다.
  - Google 또는 NumPy 스타일의 Docstring을 사용한다.
- **예외 처리는 필수**이다.
  - 파일 접근, 변환, DB, I/O 과정에서 발생할 수 있는 모든 예외를 `try-except`로 처리하고, 오류 메시지를 로깅할 것.
- **테스트 중 생성한 debug, print 같은 문장은 최종 코드에서 제거**한다.
  - `print` 대신 `logging` 모듈을 사용하고, `DEBUG` 레벨 로그만 필요할 때 출력하도록 한다.
- **코드 가독성**을 위해 PEP8 규칙을 엄격히 준수한다.
  - 변수명은 명확하게 작성하고, snake_case를 사용한다.
  - 함수는 50줄 이상 길어지지 않도록 분리한다.

## 3. 백업 및 안정성
- **파일 수정 전 자동 백업 코드**를 포함한다.
  - https://github.com/KongYongGun/python_ePub
    - 위의 github 저장소에 업로드한다.
  - 예: 변환 대상 텍스트 파일이나 ePub 파일은 `backup/` 폴더에 원본을 복사 후 작업.
    - 폴더가 존재하지 않으면 자동 생성한다.
    - 백업 파일명 예시: `originalfilename_YYYYMMDD_HHMMSS.ext`

## 4. 테스트 및 유지보수
- **유닛 테스트를 작성**해 주요 기능(파일 로딩, 변환, ePub 생성)이 정상 동작하는지 확인한다.
- **코드 변경 시 마다 백업 스크립트 실행**을 우선 권장한다.

## 5. 기타
- 모든 I/O 연산(파일 읽기/쓰기)은 `with open(...) as f:` 패턴을 사용한다.
- SQL 또는 DB 처리 시 예외와 트랜잭션 처리를 엄격히 관리한다.

